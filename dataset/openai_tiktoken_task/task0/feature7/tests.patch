diff --git a/tests/test_feature7.py b/tests/test_feature7.py
new file mode 100644
index 0000000..e8ae079
--- /dev/null
+++ b/tests/test_feature7.py
@@ -0,0 +1,28 @@
+import pytest
+import tiktoken
+
+def test_token_validation():
+    # Create a simple encoding for testing
+    enc = tiktoken.get_encoding("cl100k_base")
+ 
+    def no_repeats(tokens):
+        return len(tokens) == len(set(tokens))
+ 
+    def max_token_value(tokens, max_val):
+        return all(t <= max_val for t in tokens)
+ 
+    text = "a b c"
+    tokens = enc.encode(text, validators=[no_repeats])
+    assert tokens == [64, 293, 272]
+ 
+    text = "a a a"
+    with pytest.raises(ValueError):
+        enc.encode(text, validators=[no_repeats])
+ 
+    text = "a b c"
+    tokens = enc.encode(text, validators=[lambda t: max_token_value(t, 300)])
+    assert tokens == [64, 293, 272]
+ 
+    text = "a b c"
+    with pytest.raises(ValueError):
+        enc.encode(text, validators=[lambda t: max_token_value(t, 200)])
\ No newline at end of file
