diff --git a/tests/test_feature10.py b/tests/test_feature10.py
new file mode 100644
index 0000000..a55a0ea
--- /dev/null
+++ b/tests/test_feature10.py
@@ -0,0 +1,30 @@
+import pytest
+import tiktoken
+import time
+
+def test_token_caching():
+    # Create a simple encoding for testing
+    enc = tiktoken.get_encoding("cl100k_base")
+    enc.cache = {}
+ 
+    # Test cache hit
+    text = "a b c a b c" * 10000
+    start_time = time.time()
+    tokens1 = enc.encode(text, use_cache=False)
+    time1 = time.time() - start_time
+
+    start_time = time.time()
+    tokens2 = enc.encode(text, use_cache=False)
+    time2 = time.time() - start_time
+    assert time1 < time2 * 10 
+    assert len(enc.cache) == 0
+
+    start_time = time.time()
+    tokens1 = enc.encode(text, use_cache=True)
+    time1 = time.time() - start_time
+
+    start_time = time.time()
+    tokens2 = enc.encode(text, use_cache=True)
+    time2 = time.time() - start_time
+    assert time1 > time2 * 10 
+    assert len(enc.cache) == 1
\ No newline at end of file
