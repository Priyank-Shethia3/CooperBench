diff --git a/tests/test_feature8.py b/tests/test_feature8.py
new file mode 100644
index 0000000..39dd7c2
--- /dev/null
+++ b/tests/test_feature8.py
@@ -0,0 +1,15 @@
+import pytest
+import tiktoken
+
+def test_token_pattern():
+    # Create a simple encoding for testing
+    enc = tiktoken.get_encoding("cl100k_base")
+ 
+    text = " like love" * 99 + " like hate" * 20
+    tokens, pattern = enc.encode(text, return_repeated_pattern=True)
+    assert pattern == {(1093, 3021): 99, (3021, 1093): 99, (1093, 12491): 20}
+
+    text = ""
+    tokens, pattern = enc.encode(text, return_repeated_pattern=True)
+    assert pattern == {}
+ 
\ No newline at end of file
