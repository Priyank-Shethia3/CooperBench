diff --git a/src/click/core.py b/src/click/core.py
index 666ad68..26b2288 100644
--- a/src/click/core.py
+++ b/src/click/core.py
@@ -228,6 +228,10 @@ class Context:
         value is not set, it defaults to the value from the parent
         context. ``Command.show_default`` overrides this default for the
         specific command.
+    :param max_resources: Maximum number of resources that can be registered
+        with :meth:`with_resource`. If `None` (default), there is no limit.
+        When set to a positive integer, attempting to register more resources
+        than this limit will raise a `RuntimeError`.
 
     .. versionchanged:: 8.2
         The ``protected_args`` attribute is deprecated and will be removed in
@@ -280,6 +284,7 @@ class Context:
         token_normalize_func: t.Callable[[str], str] | None = None,
         color: bool | None = None,
         show_default: bool | None = None,
+        max_resources: int | None = None,
     ) -> None:
         #: the parent context or `None` if none exists.
         self.parent = parent
@@ -427,6 +432,17 @@ class Context:
         #: Show option default values when formatting help text.
         self.show_default: bool | None = show_default
 
+        if max_resources is None and parent is not None:
+            max_resources = parent.max_resources
+
+        #: Maximum number of resources that can be registered.
+        self.max_resources: int | None = max_resources
+        # Share resource count with parent context if one exists
+        if parent is not None:
+            self._resource_count_ref = parent._resource_count_ref
+        else:
+            self._resource_count_ref = [0]
+
         self._close_callbacks: list[t.Callable[[], t.Any]] = []
         self._depth = 0
         self._parameter_source: dict[str, ParameterSource] = {}
@@ -588,6 +604,16 @@ class Context:
 
         .. versionadded:: 8.0
         """
+        if (
+            self.max_resources is not None
+            and self._resource_count_ref[0] >= self.max_resources
+        ):
+            raise RuntimeError(
+                f"Maximum number of resources ({self.max_resources}) exceeded. "
+                "Cannot register more resources."
+            )
+
+        self._resource_count_ref[0] += 1
         return self._exit_stack.enter_context(context_manager)
 
     def call_on_close(self, f: t.Callable[..., t.Any]) -> t.Callable[..., t.Any]:
@@ -610,6 +636,9 @@ class Context:
         self._exit_stack.close()
         # In case the context is reused, create a new exit stack.
         self._exit_stack = ExitStack()
+        # Reset resource count when context is closed (only for root contexts)
+        if self.parent is None:
+            self._resource_count_ref[0] = 0
 
     @property
     def command_path(self) -> str:
@@ -1582,9 +1611,9 @@ class Group(Command):
         func: t.Callable[..., t.Any] | None = None
 
         if args and callable(args[0]):
-            assert (
-                len(args) == 1 and not kwargs
-            ), "Use 'command(**kwargs)(callable)' to provide arguments."
+            assert len(args) == 1 and not kwargs, (
+                "Use 'command(**kwargs)(callable)' to provide arguments."
+            )
             (func,) = args
             args = ()
 
@@ -1631,9 +1660,9 @@ class Group(Command):
         func: t.Callable[..., t.Any] | None = None
 
         if args and callable(args[0]):
-            assert (
-                len(args) == 1 and not kwargs
-            ), "Use 'group(**kwargs)(callable)' to provide arguments."
+            assert len(args) == 1 and not kwargs, (
+                "Use 'group(**kwargs)(callable)' to provide arguments."
+            )
             (func,) = args
             args = ()
 
diff --git a/src/click/shell_completion.py b/src/click/shell_completion.py
index 6fd9e54..cd1ca82 100644
--- a/src/click/shell_completion.py
+++ b/src/click/shell_completion.py
@@ -544,6 +544,8 @@ def _resolve_context(
     :param args: List of complete args before the incomplete value.
     """
     ctx_args["resilient_parsing"] = True
+    # Disable resource limits during shell completion
+    ctx_args["max_resources"] = None
     ctx = cli.make_context(prog_name, args.copy(), **ctx_args)
     args = ctx._protected_args + ctx.args
 

