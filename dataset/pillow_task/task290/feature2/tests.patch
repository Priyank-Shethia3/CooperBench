diff --git a/Tests/test_image_quantize.py b/Tests/test_image_quantize.py
index bd9db362c..5e2091bb1 100644
--- a/Tests/test_image_quantize.py
+++ b/Tests/test_image_quantize.py
@@ -1,6 +1,6 @@
 import pytest
 
-from PIL import Image
+from PIL import Image, ImageDraw
 
 from .helper import assert_image, assert_image_similar, hopper, is_ppc64le
 
@@ -85,3 +85,43 @@ def test_transparent_colors_equal():
     converted = im.quantize()
     converted_px = converted.load()
     assert converted_px[0, 0] == converted_px[0, 1]
+
+def test_max_colors_quantize() -> None:
+    image = hopper()
+ 
+    # Standard quantization with 100 colors
+    standard = image.quantize(100)
+    standard_colors = standard.getcolors()
+    assert standard_colors is not None
+    assert len(standard_colors) == 100
+ 
+    # With max_colors parameter lower than target
+    limited = image.quantize(100, max_colors=50)
+    limited_colors = limited.getcolors()
+    assert limited_colors is not None
+    assert len(limited_colors) <= 50
+ 
+    # With max_colors parameter higher than target (should use target)
+    higher_limit = image.quantize(50, max_colors=100)
+    higher_limit_colors = higher_limit.getcolors()
+    assert higher_limit_colors is not None
+    assert len(higher_limit_colors) == 50
+ 
+    # With max_colors unspecified (should default to colors)
+    default_limit = image.quantize(75)
+    default_limit_colors = default_limit.getcolors()
+    assert default_limit_colors is not None
+    assert len(default_limit_colors) == 75
+
+
+def test_max_colors_with_palette() -> None:
+    image = hopper()
+    with Image.open("Tests/images/caption_6_33_22.png") as palette:
+        palette = palette.convert("P")
+ 
+    # Using a provided palette with max_colors limit
+    converted = image.quantize(palette=palette, max_colors=10)
+    assert converted.mode == "P"
+    colors = converted.getcolors()
+    assert colors is not None
+    assert len(colors) <= 10
\ No newline at end of file
