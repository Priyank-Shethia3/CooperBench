diff --git a/tests/test_ext.py b/tests/test_ext.py
index b54e905f..e06ff2e1 100644
--- a/tests/test_ext.py
+++ b/tests/test_ext.py
@@ -599,6 +599,204 @@ class TestNewstyleInternationalization:
         assert tmpl.render(LANGUAGE="de", apples=5) == "5 Apples"
 
 
+class TestTranslationDomain:
+    def test_trans_domain_basic(self):
+        """Test basic domain functionality with trans tag."""
+        env = Environment(extensions=["jinja2.ext.i18n"])
+ 
+        # Mock domain-aware gettext functions
+        def mock_dgettext(domain, message):
+            if domain == "admin":
+                return f"ADMIN:{message}"
+            return message
+ 
+        def mock_dngettext(domain, singular, plural, n):
+            if domain == "admin":
+                return f"ADMIN:{singular if n == 1 else plural}"
+            return singular if n == 1 else plural
+ 
+        env.globals.update({
+            "gettext": lambda x: x,
+            "ngettext": lambda s, p, n: s if n == 1 else p,
+            "dgettext": mock_dgettext,
+            "dngettext": mock_dngettext,
+        })
+ 
+        # Test basic domain usage
+        tmpl = env.from_string('{% trans domain="admin" %}Hello World{% endtrans %}')
+        assert tmpl.render() == "ADMIN:Hello World"
+
+    def test_trans_domain_with_variables(self):
+        """Test domain with variables."""
+        env = Environment(extensions=["jinja2.ext.i18n"])
+ 
+        def mock_dgettext(domain, message):
+            if domain == "ui":
+                return f"UI:{message}"
+            return message
+ 
+        env.globals.update({
+            "gettext": lambda x: x,
+            "dgettext": mock_dgettext,
+        })
+ 
+        tmpl = env.from_string('{% trans domain="ui", name="John" %}Hello {{ name }}{% endtrans %}')
+        assert tmpl.render() == "UI:Hello %(name)s" % {"name": "John"}
+
+    def test_trans_domain_plural(self):
+        """Test domain with pluralization."""
+        env = Environment(extensions=["jinja2.ext.i18n"])
+ 
+        def mock_dngettext(domain, singular, plural, n):
+            if domain == "messages":
+                return f"MSG:{singular if n == 1 else plural}"
+            return singular if n == 1 else plural
+ 
+        env.globals.update({
+            "ngettext": lambda s, p, n: s if n == 1 else p,
+            "dngettext": mock_dngettext,
+        })
+ 
+        tmpl = env.from_string(
+            '{% trans domain="messages", count=1 %}{{ count }} item{% pluralize %}{{ count }} items{% endtrans %}'
+        )
+        assert tmpl.render() == "MSG:%(count)s item" % {"count": 1}
+ 
+        tmpl = env.from_string(
+            '{% trans domain="messages", count=2 %}{{ count }} item{% pluralize %}{{ count }} items{% endtrans %}'
+        )
+        assert tmpl.render() == "MSG:%(count)s items" % {"count": 2}
+
+    def test_trans_domain_with_trimmed(self):
+        """Test domain with trimmed option."""
+        env = Environment(extensions=["jinja2.ext.i18n"])
+ 
+        def mock_dgettext(domain, message):
+            if domain == "admin":
+                return f"ADMIN:{message}"
+            return message
+ 
+        env.globals.update({
+            "gettext": lambda x: x,
+            "dgettext": mock_dgettext,
+        })
+ 
+        tmpl = env.from_string(
+            '{% trans domain="admin", trimmed %}  Hello  \n  World  {% endtrans %}'
+        )
+        assert tmpl.render() == "ADMIN:Hello World"
+
+    def test_trans_domain_error_duplicate(self):
+        """Test error when domain is defined twice."""
+        env = Environment(extensions=["jinja2.ext.i18n"])
+ 
+        with pytest.raises(TemplateAssertionError):
+            env.from_string('{% trans domain="admin", domain="ui" %}Hello{% endtrans %}')
+
+    def test_trans_domain_error_non_string(self):
+        """Test error when domain is not a string literal."""
+        env = Environment(extensions=["jinja2.ext.i18n"])
+ 
+        with pytest.raises(TemplateAssertionError):
+            env.from_string('{% trans domain=variable %}Hello{% endtrans %}')
+
+    def test_trans_domain_empty_string(self):
+        """Test domain with empty string."""
+        env = Environment(extensions=["jinja2.ext.i18n"])
+ 
+        def mock_dgettext(domain, message):
+            return f"DOMAIN[{domain}]:{message}"
+ 
+        env.globals.update({
+            "gettext": lambda x: x,
+            "dgettext": mock_dgettext,
+        })
+ 
+        tmpl = env.from_string('{% trans domain="" %}Hello{% endtrans %}')
+        assert tmpl.render() == "DOMAIN[]:Hello"
+
+    def test_trans_domain_special_chars(self):
+        """Test domain with special characters."""
+        env = Environment(extensions=["jinja2.ext.i18n"])
+ 
+        def mock_dgettext(domain, message):
+            return f"DOMAIN[{domain}]:{message}"
+ 
+        env.globals.update({
+            "gettext": lambda x: x,
+            "dgettext": mock_dgettext,
+        })
+ 
+        tmpl = env.from_string('{% trans domain="admin-ui_v2.0" %}Hello{% endtrans %}')
+        assert tmpl.render() == "DOMAIN[admin-ui_v2.0]:Hello"
+
+    def test_trans_domain_backward_compatibility(self):
+        """Test that trans without domain still works."""
+        env = Environment(extensions=["jinja2.ext.i18n"])
+ 
+        env.globals.update({
+            "gettext": lambda x: f"DEFAULT:{x}",
+            "ngettext": lambda s, p, n: f"DEFAULT:{s if n == 1 else p}",
+        })
+ 
+        # Test without domain
+        tmpl = env.from_string('{% trans %}Hello World{% endtrans %}')
+        assert tmpl.render() == "DEFAULT:Hello World"
+ 
+        # Test plural without domain
+        tmpl = env.from_string('{% trans count=2 %}{{ count }} item{% pluralize %}{{ count }} items{% endtrans %}')
+        assert tmpl.render() == "DEFAULT:%(count)s items" % {"count": 2}
+
+    def test_trans_domain_with_context_vars(self):
+        """Test domain with context variables."""
+        env = Environment(extensions=["jinja2.ext.i18n"])
+ 
+        def mock_dgettext(domain, message):
+            return f"{domain.upper()}:{message}"
+ 
+        env.globals.update({
+            "gettext": lambda x: x,
+            "dgettext": mock_dgettext,
+        })
+ 
+        tmpl = env.from_string('{% trans domain="user" %}Welcome {{ username }}{% endtrans %}')
+        result = tmpl.render(username="Alice")
+        assert result == "USER:Welcome %(username)s" % {"username": "Alice"}
+
+    def test_trans_domain_long_string(self):
+        """Test domain with very long domain name."""
+        env = Environment(extensions=["jinja2.ext.i18n"])
+ 
+        def mock_dgettext(domain, message):
+            return f"[{len(domain)}]:{message}"
+ 
+        env.globals.update({
+            "gettext": lambda x: x,
+            "dgettext": mock_dgettext,
+        })
+ 
+        long_domain = "a" * 100
+        tmpl = env.from_string(f'{{% trans domain="{long_domain}" %}}Hello{{% endtrans %}}')
+        assert tmpl.render() == "[100]:Hello"
+
+    def test_trans_domain_newstyle_gettext(self):
+        """Test domain with newstyle gettext."""
+        env = Environment(extensions=["jinja2.ext.i18n"])
+        env.newstyle_gettext = True  # type: ignore
+ 
+        def mock_dgettext(domain, message, **kw):
+            result = f"{domain.upper()}:{message}"
+            return result % kw if kw else result
+ 
+        env.globals.update({
+            "gettext": lambda x, **kw: x % kw if kw else x,
+            "dgettext": mock_dgettext,
+        })
+ 
+        tmpl = env.from_string('{% trans domain="admin", name="John" %}Hello {{ name }}{% endtrans %}')
+        assert tmpl.render() == "ADMIN:Hello John"
+
+
 class TestAutoEscape:
     def test_scoped_setting(self):
         env = Environment(autoescape=True)
