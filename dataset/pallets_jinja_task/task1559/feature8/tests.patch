diff --git a/tests/test_ext.py b/tests/test_ext.py
index b54e905f..2273655a 100644
--- a/tests/test_ext.py
+++ b/tests/test_ext.py
@@ -8,6 +8,7 @@ from jinja2 import Environment
 from jinja2 import nodes
 from jinja2 import pass_context
 from jinja2.exceptions import TemplateAssertionError
+from jinja2.exceptions import TemplateSyntaxError
 from jinja2.ext import Extension
 from jinja2.lexer import count_newlines
 from jinja2.lexer import Token
@@ -599,6 +600,136 @@ class TestNewstyleInternationalization:
         assert tmpl.render(LANGUAGE="de", apples=5) == "5 Apples"
 
 
+class TestConditionalInternationalization:
+    def test_basic_conditional_trans(self):
+        env = Environment(extensions=["jinja2.ext.i18n", "jinja2.ext.conditional_i18n"])
+        env.globals.update({
+            "gettext": lambda x: f"TRANSLATED: {x}",
+            "ngettext": lambda s, p, n: f"TRANSLATED: {s if n == 1 else p}",
+        })
+ 
+        # Test basic conditional translation - condition true
+        tmpl = env.from_string(
+            "{% ctrans True %}Hello World{% fallback %}Fallback Text{% endctrans %}"
+        )
+        assert tmpl.render() == "TRANSLATED: Hello World"
+ 
+        # Test basic conditional translation - condition false
+        tmpl = env.from_string(
+            "{% ctrans False %}Hello World{% fallback %}Fallback Text{% endctrans %}"
+        )
+        assert tmpl.render() == "Fallback Text"
+
+    def test_conditional_trans_with_variables(self):
+        env = Environment(extensions=["jinja2.ext.i18n", "jinja2.ext.conditional_i18n"])
+        env.globals.update({
+            "gettext": lambda x: f"TRANSLATED: {x}",
+            "ngettext": lambda s, p, n: f"TRANSLATED: {s if n == 1 else p}",
+        })
+ 
+        # Test with context variables
+        tmpl = env.from_string(
+            "{% ctrans enable_translation %}Hello {{ name }}{% fallback %}Hi {{ name }}{% endctrans %}"
+        )
+        assert tmpl.render(enable_translation=True, name="World") == "TRANSLATED: Hello World"
+        assert tmpl.render(enable_translation=False, name="World") == "Hi World"
+
+    def test_conditional_trans_with_pluralization(self):
+        from jinja2.ext import InternationalizationExtension, conditional_i18n as ConditionalI18nExtension
+        env = Environment(extensions=[InternationalizationExtension, ConditionalI18nExtension])
+        env.globals.update({
+            "gettext": lambda x: f"TRANSLATED: {x}",
+            "ngettext": lambda s, p, n: f"TRANSLATED: {s if n == 1 else p}",
+        })
+ 
+        # Test with pluralization
+        tmpl = env.from_string(
+            "{% ctrans use_i18n, count %}{{ count }} item{% pluralize %}{{ count }} items{% fallback %}{{ count }} thing(s){% endctrans %}"
+        )
+        assert tmpl.render(use_i18n=True, count=1) == "TRANSLATED: 1 item"
+        assert tmpl.render(use_i18n=True, count=5) == "TRANSLATED: 5 items"
+        assert tmpl.render(use_i18n=False, count=3) == "3 thing(s)"
+
+    def test_conditional_trans_complex_conditions(self):
+        from jinja2.ext import InternationalizationExtension, conditional_i18n as ConditionalI18nExtension
+        env = Environment(extensions=[InternationalizationExtension, ConditionalI18nExtension])
+        env.globals.update({
+            "gettext": lambda x: f"TRANSLATED: {x}",
+        })
+ 
+        # Test with complex conditions
+        tmpl = env.from_string(
+            "{% ctrans user.is_premium and locale == 'en' %}Premium Content{% fallback %}Basic Content{% endctrans %}"
+        )
+ 
+        # Premium user with English locale
+        user_premium = type('User', (), {'is_premium': True})()
+        assert tmpl.render(user=user_premium, locale='en') == "TRANSLATED: Premium Content"
+ 
+        # Non-premium user
+        user_basic = type('User', (), {'is_premium': False})()
+        assert tmpl.render(user=user_basic, locale='en') == "Basic Content"
+ 
+        # Premium user with different locale
+        assert tmpl.render(user=user_premium, locale='de') == "Basic Content"
+
+    def test_conditional_trans_error_conditions(self):
+        from jinja2.ext import InternationalizationExtension, conditional_i18n as ConditionalI18nExtension
+        env = Environment(extensions=[InternationalizationExtension, ConditionalI18nExtension])
+ 
+        # Test missing fallback block
+        with pytest.raises(TemplateSyntaxError):
+            env.from_string("{% ctrans True %}Hello{% endctrans %}")
+ 
+        # Test unclosed block
+        with pytest.raises(TemplateSyntaxError):
+            env.from_string("{% ctrans True %}Hello{% fallback %}Fallback")
+
+    def test_conditional_trans_trimmed(self):
+        from jinja2.ext import InternationalizationExtension, conditional_i18n as ConditionalI18nExtension
+        env = Environment(extensions=[InternationalizationExtension, ConditionalI18nExtension])
+        env.globals.update({
+            "gettext": lambda x: f"TRANSLATED: {x}",
+        })
+ 
+        # Test trimmed functionality
+        tmpl = env.from_string(
+            "{% ctrans True trimmed %}  Hello  \n  World  {% fallback %}  Fallback  \n  Text  {% endctrans %}"
+        )
+        assert tmpl.render() == "TRANSLATED: Hello World"
+ 
+        tmpl = env.from_string(
+            "{% ctrans False trimmed %}  Hello  \n  World  {% fallback %}  Fallback  \n  Text  {% endctrans %}"
+        )
+        assert tmpl.render() == "Fallback Text"
+
+    def test_conditional_trans_notrimmed(self):
+        from jinja2.ext import InternationalizationExtension, conditional_i18n as ConditionalI18nExtension
+        env = Environment(extensions=[InternationalizationExtension, ConditionalI18nExtension])
+        env.globals.update({
+            "gettext": lambda x: f"TRANSLATED: {x}",
+        })
+ 
+        # Test notrimmed functionality
+        tmpl = env.from_string(
+            "{% ctrans True notrimmed %}  Hello  \n  World  {% fallback %}  Fallback  \n  Text  {% endctrans %}"
+        )
+        assert tmpl.render() == "TRANSLATED:   Hello  \n  World  "
+ 
+        tmpl = env.from_string(
+            "{% ctrans False notrimmed %}  Hello  \n  World  {% fallback %}  Fallback  \n  Text  {% endctrans %}"
+        )
+        assert tmpl.render() == "  Fallback  \n  Text  "
+
+    def test_conditional_trans_duplicate_variables(self):
+        from jinja2.ext import InternationalizationExtension, conditional_i18n as ConditionalI18nExtension
+        env = Environment(extensions=[InternationalizationExtension, ConditionalI18nExtension])
+ 
+        # Test duplicate variables error
+        with pytest.raises(TemplateAssertionError, match="defined twice"):
+            env.from_string("{% ctrans True, name, name %}Hello {{ name }}{% fallback %}Hi{% endctrans %}")
+
+
 class TestAutoEscape:
     def test_scoped_setting(self):
         env = Environment(autoescape=True)
