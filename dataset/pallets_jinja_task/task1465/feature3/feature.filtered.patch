diff --git a/src/jinja2/filters.py b/src/jinja2/filters.py
index 80ea6504..cbe9bc01 100644
--- a/src/jinja2/filters.py
+++ b/src/jinja2/filters.py
@@ -1,4 +1,5 @@
 """Built-in template filters used with the ``|`` operator."""
+
 import math
 import random
 import re
@@ -57,13 +58,14 @@ def make_attrgetter(
     attribute: t.Optional[t.Union[str, int]],
     postprocess: t.Optional[t.Callable[[t.Any], t.Any]] = None,
     default: t.Optional[t.Any] = None,
+    separator: str = ".",
 ) -> t.Callable[[t.Any], t.Any]:
     """Returns a callable that looks up the given attribute from a
     passed object with the rules of the environment.  Dots are allowed
     to access attributes of attributes.  Integer parts in paths are
     looked up as integers.
     """
-    parts = _prepare_attribute_parts(attribute)
+    parts = _prepare_attribute_parts(attribute, separator)
 
     def attrgetter(item: t.Any) -> t.Any:
         for part in parts:
@@ -84,6 +86,7 @@ def make_multi_attrgetter(
     environment: "Environment",
     attribute: t.Optional[t.Union[str, int]],
     postprocess: t.Optional[t.Callable[[t.Any], t.Any]] = None,
+    separator: str = ".",
 ) -> t.Callable[[t.Any], t.List[t.Any]]:
     """Returns a callable that looks up the given comma separated
     attributes from a passed object with the rules of the environment.
@@ -100,7 +103,7 @@ def make_multi_attrgetter(
     else:
         split = [attribute]
 
-    parts = [_prepare_attribute_parts(item) for item in split]
+    parts = [_prepare_attribute_parts(item, separator) for item in split]
 
     def attrgetter(item: t.Any) -> t.List[t.Any]:
         items = [None] * len(parts)
@@ -122,13 +125,13 @@ def make_multi_attrgetter(
 
 
 def _prepare_attribute_parts(
-    attr: t.Optional[t.Union[str, int]]
+    attr: t.Optional[t.Union[str, int]], separator: str = "."
 ) -> t.List[t.Union[str, int]]:
     if attr is None:
         return []
 
     if isinstance(attr, str):
-        return [int(x) if x.isdigit() else x for x in attr.split(".")]
+        return [int(x) if x.isdigit() else x for x in attr.split(separator)]
 
     return [attr]
 
@@ -142,7 +145,7 @@ def do_forceescape(value: "t.Union[str, HasHTML]") -> Markup:
 
 
 def do_urlencode(
-    value: t.Union[str, t.Mapping[str, t.Any], t.Iterable[t.Tuple[str, t.Any]]]
+    value: t.Union[str, t.Mapping[str, t.Any], t.Iterable[t.Tuple[str, t.Any]]],
 ) -> str:
     """Quote data for use in a URL path or query using UTF-8.
 
@@ -1163,6 +1166,7 @@ def sync_do_groupby(
     value: "t.Iterable[V]",
     attribute: t.Union[str, int],
     default: t.Optional[t.Any] = None,
+    separator: str = ".",
 ) -> "t.List[t.Tuple[t.Any, t.List[V]]]":
     """Group a sequence of objects by an attribute using Python's
     :func:`itertools.groupby`. The attribute can use dot notation for
@@ -1203,13 +1207,23 @@ def sync_do_groupby(
           <li>{{ city }}: {{ items|map(attribute="name")|join(", ") }}</li>
         {% endfor %}</ul>
 
+    You can specify a custom ``separator`` to use for nested attribute access
+    instead of the default dot notation. For example, to use Django-style
+    double underscores:
+
+    .. sourcecode:: jinja
+
+        <ul>{% for city, items in users|groupby("profile__city", separator="__") %}
+          <li>{{ city }}: {{ items|map(attribute="name")|join(", ") }}</li>
+        {% endfor %}</ul>
+
     .. versionchanged:: 3.0
         Added the ``default`` parameter.
 
     .. versionchanged:: 2.6
         The attribute supports dot notation for nested access.
     """
-    expr = make_attrgetter(environment, attribute, default=default)
+    expr = make_attrgetter(environment, attribute, default=default, separator=separator)
     return [
         _GroupTuple(key, list(values))
         for key, values in groupby(sorted(value, key=expr), expr)
@@ -1222,8 +1236,9 @@ async def do_groupby(
     value: "t.Union[t.AsyncIterable[V], t.Iterable[V]]",
     attribute: t.Union[str, int],
     default: t.Optional[t.Any] = None,
+    separator: str = ".",
 ) -> "t.List[t.Tuple[t.Any, t.List[V]]]":
-    expr = make_attrgetter(environment, attribute, default=default)
+    expr = make_attrgetter(environment, attribute, default=default, separator=separator)
     return [
         _GroupTuple(key, await auto_to_list(values))
         for key, values in groupby(sorted(await auto_to_list(value), key=expr), expr)
@@ -1304,13 +1319,11 @@ def do_mark_unsafe(value: str) -> str:
 
 
 @typing.overload
-def do_reverse(value: str) -> str:
-    ...
+def do_reverse(value: str) -> str: ...
 
 
 @typing.overload
-def do_reverse(value: "t.Iterable[V]") -> "t.Iterable[V]":
-    ...
+def do_reverse(value: "t.Iterable[V]") -> "t.Iterable[V]": ...
 
 
 def do_reverse(value: t.Union[str, t.Iterable[V]]) -> t.Union[str, t.Iterable[V]]:
@@ -1365,8 +1378,7 @@ def do_attr(
 @typing.overload
 def sync_do_map(
     context: "Context", value: t.Iterable, name: str, *args: t.Any, **kwargs: t.Any
-) -> t.Iterable:
-    ...
+) -> t.Iterable: ...
 
 
 @typing.overload
@@ -1376,8 +1388,7 @@ def sync_do_map(
     *,
     attribute: str = ...,
     default: t.Optional[t.Any] = None,
-) -> t.Iterable:
-    ...
+) -> t.Iterable: ...
 
 
 @pass_context
@@ -1437,8 +1448,7 @@ def do_map(
     name: str,
     *args: t.Any,
     **kwargs: t.Any,
-) -> t.Iterable:
-    ...
+) -> t.Iterable: ...
 
 
 @typing.overload
@@ -1448,8 +1458,7 @@ def do_map(
     *,
     attribute: str = ...,
     default: t.Optional[t.Any] = None,
-) -> t.Iterable:
-    ...
+) -> t.Iterable: ...
 
 
 @async_variant(sync_do_map)  # type: ignore

