diff --git a/llama-index-core/llama_index/core/base/llms/types.py b/llama-index-core/llama_index/core/base/llms/types.py
index 00e30cf23..7c2489bad 100644
--- a/llama-index-core/llama_index/core/base/llms/types.py
+++ b/llama-index-core/llama_index/core/base/llms/types.py
@@ -76,12 +76,34 @@ class ImageBlock(BaseModel):
             return self
 
         if not self.image_mimetype:
-            guess = filetype.guess(self.image)
-            self.image_mimetype = guess.mime if guess else None
+            self.get_image_mimetype()
 
         self.image = base64.b64encode(self.image)
 
         return self
+ 
+    def get_image_mimetype(self) -> Optional[str]:
+        """Return the image MIME type, guessing it on demand if not set.
+
+        Caches the guessed MIME type for future accesses.
+        """
+        if self.image_mimetype:
+            return self.image_mimetype
+
+        image_data = self.image
+        if image_data is None:
+            # Do not attempt guessing from path or URL to avoid I/O
+            return None
+
+        # If the image is base64-encoded, decode it before guessing
+        try:
+            image_data = base64.b64decode(image_data)
+        except Exception:
+            pass  # Already raw bytes
+
+        guess = filetype.guess(image_data)
+        self.image_mimetype = guess.mime if guess else None
+        return self.image_mimetype
 
     def resolve_image(self, as_base64: bool = False) -> BytesIO:
         """Resolve an image such that PIL can read it.
