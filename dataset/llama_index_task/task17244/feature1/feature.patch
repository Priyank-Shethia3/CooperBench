diff --git a/llama-index-core/llama_index/core/base/llms/types.py b/llama-index-core/llama_index/core/base/llms/types.py
index 00e30cf23..cd96f8376 100644
--- a/llama-index-core/llama_index/core/base/llms/types.py
+++ b/llama-index-core/llama_index/core/base/llms/types.py
@@ -75,12 +75,18 @@ class ImageBlock(BaseModel):
         if not self.image:
             return self
 
+        try:
+            # Check if image is already base64 encoded
+            decoded_img = base64.b64decode(self.image)
+        except Exception:
+            decoded_img = self.image
+            # Not base64 - encode it
+            self.image = base64.b64encode(self.image)
+
         if not self.image_mimetype:
-            guess = filetype.guess(self.image)
+            guess = filetype.guess(decoded_img)
             self.image_mimetype = guess.mime if guess else None
 
-        self.image = base64.b64encode(self.image)
-
         return self
 
     def resolve_image(self, as_base64: bool = False) -> BytesIO:
